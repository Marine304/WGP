{% extends 'webcrawler/layout.html' %}
{% load get_graduated_point %}
{% block content %}

<h3 class="page-title">Dashboard</h3>

<div class="btn-toolbar mb-2 mb-md-0" style="padding: 10px;">
    <div class="btn-group mr-2">
      <button class="btn btn-sm btn-outline-secondary">Share</button>
      <button class="btn btn-sm btn-outline-secondary">Export</button>
  </div>
</div>

<div class="row">
  <div class="col-md-8">
    <!-- PANEL HEADLINE -->
    <div class="panel">
      <div class="panel-heading">
        <div class="row">
          <div class="col-sm-4 col-md-4">
            <img src="http://intra.wku.ac.kr{{ user_info.2 }}" alt="..." class="img-thumbnail" width="120" style="height: 140px; margin: 10px; vertical-align: bottom;">
          </div>
          <div class="col-sm-4 col-md-4 user_info_container">
          <p class="user_info">이름 : <strong>{{ user_info.0 }} </strong></p>
          <p class="user_info">학번 : {{ user_info.1 }}</p>
          <p class="user_info">소속 : {{ user_info.4 }}</p>
          </div>
          <div class="col-sm-4 col-md-4 user_info_container">
            <p class="user_info">학년 : {{ user_info.3 }}</p>
            <p class="user_info">이수학기 :{{ user_info.5 }}</p>
            <p class="user_info">학과 : {{ user_info.6 }}</p>
          </div>
        </div>
      </div>

      <div class="panel-body">
        <div class="row">
          <div class="col-md-12">
            <div class="panel">
								<div class="panel-heading">
									<h3 class="panel-title">학점 현황</h3>
								</div>
								<div class="panel-body">
									<table class="table table-condensed">
										<thead>
											<tr>
                        <th class="text-center">이수학점</th>
                        <th class="text-center">졸업학점</th>
												<th class="text-center">남은학점</th>
												<th class="text-center">전공학점</th>
												<th class="text-center">교양학점</th>
											</tr>
										</thead>
										<tbody>
                      <tr>
												<td class="text-center"> {{ total_point }} </td>
												<td class="text-center"> {{ graduated_point|keyvalue:user_info.6 }} </td>
												<td class="text-center"> {{ remain_graduated_point }}</td>
                        <td class="text-center"> {{ subject_point.major_subject_sum }} </td>
                        <td class="text-center"> {{ subject_point.culture_subject_sum }} </td>
                      </tr>
										</tbody>
									</table>
								</div>
							</div>
          </div>
          <div class="col-md-12">
            <div class="panel">
								<div class="panel-heading">
									<h3 class="panel-title">성적 현황</h3>
								</div>
								<div class="panel-body">
									<table class="table table-condensed">
										<thead>
											<tr>
												<th class="text-center">년도</th>
												<th class="text-center">학년</th>
												<th class="text-center">학기</th>
												<th class="text-center">평균학점</th>
											</tr>
										</thead>
										<tbody>
                      {% for point in average_point_info %}
                      <tr>
												<td class="text-center">{{ point.0 }}</td>
												<td class="text-center">{{ point.1 }}</td>
												<td class="text-center">{{ point.2 }}</td>
												<td class="text-center">{{ point.3 }}</td>
                      </tr>
                      {% endfor %}
										</tbody>
									</table>
								</div>
							</div>
          </div>
        </div>
      </div>
    </div>
    <!-- END PANEL HEADLINE -->
  </div>
  <div class="col-md-4">
    <!-- PANEL NO CONTROLS -->
    <div class="panel">
      <div class="panel-heading">
        <h3 class="panel-title">장학금 현황</h3>
      </div>
      <div class="panel-body">
        {% for a,b,c,d,e,f in scholar_ship %}
          <p>{{a}}년 - {{ b }}학기</p>
          <p><span class="label label-info">{{c}}</span>  {{ f }}원</p>
        {% endfor %}
      </div>
    </div>
    <!-- END PANEL NO CONTROLS -->
  </div>
  <div class="col-md-6">
    <!-- PANEL NO PADDING -->
    <div class="panel">
      <div class="panel-heading">
        <h3 class="panel-title">W-POINT</h3>
      </div>
      <div class="panel-body">
          <div class="row">

          {% for a, b, c, d in wpoint %}
              <div class="col-sm-6 col-md-6">
                <p> <span class="badge badge-primary">인정</span>  {{ a }}  {{ b }}
              </div>
              <div class="col-sm-6 col-md-6">
                <span class="badge badge-danger">초과</span>  {{ c }} : {{ d }}</p>
              </div>
          {% endfor %}
          </div>
      </div>
    </div>
    <!-- END PANEL NO PADDING -->
  </div>
</div>

{% endblock %}